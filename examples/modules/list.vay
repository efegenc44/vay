module List

variant List(T) {
    Nil
    Cons(T, List(T))

    fun map:(M)(this, f: fun(T) : M) : List(M) = match this {
        let .Nil         : List::Nil
        let .Cons(x, xs) : List::Cons(f(x), xs.map(f))
    }
}
